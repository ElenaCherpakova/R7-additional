
<h1>Customers</h1>


<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Number of Orders</th>
      <th scope="col" colspan="3"></th>
    </tr>
  </thead>
<tbody>
  <% @customers.each do |customer| %>
  <%= render "deleteModal", customer: customer %>
  <tr>
    <td>
      <%=customer.full_name %>
    </td>
    <td>
      <%=customer.orders.count%>
    </td>
    <td>
      <%= link_to customer, class: "btn btn-primary" do%>
       <%= icon('fa-regular','eye')%>
      <%end%>
    </td>
    <td>
      <%= link_to edit_customer_path(customer), class: "btn btn-primary" do%>
      <%= icon('fa-regular','pen-to-square')%>
      <%end%>
    </td>
    <td>
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal-<%= customer.id %>">
    <%= icon('fa-regular', 'trash-can') %>
  </button>
</td>

  </tr>
  <% end %>
  <tbody>
</table>

<br>

<%= link_to new_customer_path, class: "btn btn-primary" do%> New Customer
  <%= icon('fa-solid', 'user-plus')%> 
<%end%>
